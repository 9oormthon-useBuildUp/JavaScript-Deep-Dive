# 15장 let, const 키워드와 블록 레벨 스코프

## var 키워드로 선언한 변수의 문제점

### 1. 변수의 중복 선언을 허용한다.
 - var 키워드로 선언된 변수는 중복 선언이 가능하다.
 - 초기화문이 있는 변수 선언문은 var 키워드가 없는 것처럼 동작하며, 

 ```javascript
var x = 1;
var x = 100; //이게 x = 100; - 할당처럼 작동한다는 뜻이다.
 ```
 
초기화 문이 없는 변수 선언문은 무시된다.

```javascript
var y = 1;
var y;      //무시된다.
```

### 함수 레벨 스코프

- `var` 키워드로 선언한 변수는 오로지 **함수의 코드 블록만들 지역 스코프로 인정**한다.
- 함수가 아닌 `if`, `for` 등의 코드 블록 내에서 선언한 변수는 모두 **전역 변수**가 된다.

- 함수 레벨 스코프는 전역 변수를 남발할 가능성을 높인다.
- 이로 인해 의도치 않게 전역 변수가 중복 선언되는 경우가 발생한다.

### 변수 호이스팅
- `var`키워드오 변수를 선언하면 변수 호이스팅에 의해 변수 선언문이 스코프의 선두로 끌어 올려진 것처럼 동작한다.
- 변수 호이스팅에 의해 `var`키워드로 선언한 변수는 변수 선언문 이전에 참조할 수 있다 → 할당문 이전에 변수를 참조하면 언제나 `undefined`를 반환한다.


## let 키워드
- 앞에서 살펴본 var 키워드의 단점을 보완하기 위해 ES6에서 변수 선언 키워드 `let`, `const`가 도입되었다.

### 변수 중복 선언 금지
 - `let` 키워드로 이름이 같은 변수를 중복 선언하면 문법 에러가 발생한다.

### 블록 레벨 스코프
- let 키워드로 선언한 변수는 모든 코드 블록을 지역 스코프로 인정하는 블록 레벨 스코프를 따른다.

### 변수 호이스팅
- `let` 키워드로 선언한 변수는 호이스팅이 발생하지 않는 것처럼 동작한다.
- let 키워드로 선언한 변수는 "선언 단계"와 "초기화 단계"가 분리되어 진행된다.
- 초기화 단계는 변수 선언문에 도달했을 때 실행된다.
- 만약 초기화 단계 실행 이전에 변수에 접근하려고 하면 참조 에러가 발생한다.
- **let 키워드로 선언한 변수는 스코프의 시작 지점부터 초기화 단계 시작 지점까지 변수를 참조할 수 없다.** → 이 구간을 `일시적 사각 지대`라고 한다.
- 실제로 호이스팅은 발생하지만, 발생하지 않는 것처럼 동작하는 것임!

### 전역 객체와 let
- let 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 아니다.
- let 전역 변수는 보이지 않는 개념적인 블록 내에 존재하게 된다.


## const 키워드
- const 키워드는 상수를 선언하기 위해 사용된다. (반드시 상수만을 위해 사용하는 건 아니다.)

### 선언과 초기화
- const 키워드로 선언한 변수는 **반드시 선언과 동시에 초기화**해야 한다.

```javascript
const foo; // SyntaxError
```
- const 키워드로 선언한 변수는 let 키워드로 선언한 변수와 마찬가지로 블록 레벨 스코프를 가지며, 변수 호이스팅이 발생하지 않는 것처럼 동작한다.

### 재할당 금지
- const 키워드로 선언한 변수는 **재할당이 금지**된다.

### 상수
- const로 선언한 변수에 **원시 값**을 할당한 경우 변수 값을 변경할 수 없다. → 원시 값은 변경 불가능한 값으로 재할당 없이 값을 변경할 수 없다.
- 상수를 사용함으로써 유지보수성을 대폭 향상시킬 수 있다.
- 상수의 이름은 대문자로 선언해 상수임을 명확히 나타낸다. 여러 단어의 경우 언더스코어`(_)`를 사용한다.


### const 키워드와 객체
- const 키워드로 선언된 변수에 **객체를 할당한 경우 값을 변경할 수 있다**.

## var vs. let vs. const
- 변수 선언에는 기본적으로 `const`를 사용한다.
- `let`은 재할당이 필요한 경우에 한정해 사용한다.
- ES6을 사용한다면 `var`키워드는 사용하지 않는다.
- `let` 키워드를 사용하는 경우 변수의 스코프는 최대한 좁게 만든다.













